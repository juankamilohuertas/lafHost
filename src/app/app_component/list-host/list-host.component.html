<!-- mostrando detalles del registro filtrado -->
<section class="d-flex bg-dark" style="font-size: small;">
  <div class="table d-flex text-light p-2">
    <div>
      @for (item of moreInfoHeaders; track $index) {
      <div class="border p-2">
        {{ item }}
      </div>
      }
    </div>
    <div>
      @for (item of moreInfo; track $index) {
      <div class="border border-start-0 p-2">
        {{ item }}
      </div>
      }
    </div>
  </div>
  <div class="d-flex justify-content-center align-items-center">
    <a class="d-inline-block w-50 text-center" href="http://{{direccionIp}}" target="_blank" rel="noopener noreferrer">
        <img class="w-100" src="assets/Kyocera.jpg" alt="Img-Kyocera-Printer">
    </a>
  </div>
</section>
<!-- muestra todos los registros de los dispositivos -->
<section class="conte__tableRegisters">
  <table class="table table-secondary table-hover">
    <thead>
      <tr style="font-size: small">
        <th class="position-relative">
          <p class="pb-2">ID</p>
        </th>
        <th class="position-relative">
          <input
            class="w-100 position-absolute bottom-0 start-0 border border-secondary"
            style="outline-color: #990008;"
            type="text"
            list="inputSearchByCodigoActivo"
            [(ngModel)]="filterCodigoActivo"
            (input)="validateInputTable($event, 'Codigo Activo')"
          />
          <datalist id="inputSearchByCodigoActivo">
            @for (codigoActivo of getDbEnlaces; track $index) {
            <option value="{{ codigoActivo.codigoActivo }}"></option>
            }
          </datalist>
          <p class="pb-2">Codigo Activo</p>
        </th>
        <th class="position-relative">
          <input
            class="w-100 position-absolute bottom-0 start-0 border border-secondary"
            style="outline-color: #990008"
            type="text"
            list="inputSearchBySeccion"
            [(ngModel)]="filterSeccion"
            (input)="validateInputTable($event, 'Sección')"
          />
          <datalist id="inputSearchBySeccion">
            @for (secciones of getDbSecciones; track $index) {
            <option value="{{ secciones.nombreSeccion }}"></option>
            }
          </datalist>
          <p class="pb-2">Sección</p>
        </th>
        <th class="position-relative">
          <input
            class="w-100 position-absolute bottom-0 start-0 border border-secondary"
            style="outline-color: #990008"
            type="text"
            list="inputSearchByCodigoNomina"
            [(ngModel)]="filterCodigoNomina"
            (input)="validateInputTable($event, 'Código Nomina')"
          />
          <datalist id="inputSearchByCodigoNomina">
            @for (codigoNomina of getDbResponsables; track $index) {
            <option value="{{ codigoNomina.codigoCentauro }}"></option>
            }
          </datalist>
          <p class="pb-2">Código Nomina</p>
        </th>
        <th class="position-relative">
          <input
            class="w-100 position-absolute bottom-0 start-0 border border-secondary"
            style="outline-color: #990008"
            type="text"
            list="inputSearchByResponsable"
            [(ngModel)]="filterResponsable"
            (input)="validateInputTable($event, 'Responsable')"
          />
          <datalist id="inputSearchByResponsable">
            @for (responsables of getDbResponsables; track $index) {
            <option value="{{ responsables.nombreResponsable }}"></option>
            }
          </datalist>
          <p class="pb-2">Responsable</p>
        </th>
        <th class="position-relative">
          <input
            class="w-100 position-absolute bottom-0 start-0 border border-secondary"
            style="outline-color: #990008"
            type="text"
            list="inputSearchByTypeHost"
            [(ngModel)]="filterTypeHost"
            (input)="validateInputTable($event, 'Tipo de Host')"
          />
          <datalist id="inputSearchByTypeHost">
            @for (typeHost of getDbTypeHost; track $index) {
            <option value="{{ typeHost.nombreTipoHost }}"></option>
            }
          </datalist>
          <p class="pb-2">Tipo de Host</p>
        </th>
        <th class="position-relative">
          <input
            class="w-100 position-absolute bottom-0 start-0 border border-secondary"
            style="outline-color: #990008"
            list="inputSearchByNumeroSerie"
            [(ngModel)]="filterNumeroSerie"
            (input)="validateInputTable($event, 'Número de Serie')"
          />
          <datalist id="inputSearchByNumeroSerie">
            @for (numeroSerie of getDbEnlaces; track $index) {
            <option value="{{ numeroSerie.numeroSerie }}"></option>
            }
          </datalist>
          <p class="pb-2">Número de Serie</p>
        </th>
        <th class="position-relative">
          <input
            class="w-100 position-absolute bottom-0 start-0 border border-secondary"
            style="outline-color: #990008"
            list="inputSearchBydDescripcion"
            [(ngModel)]="filterDescripcion"
            (input)="validateInputTable($event, 'Descripción')"
          />
          <datalist id="inputSearchBydDescripcion">
            @for (descripcion of getDbEnlaces; track $index) {
            <option value="{{ descripcion.descripcion }}"></option>
            }
          </datalist>
          <p class="pb-2">Descripción</p>
        </th>
        <th class="position-relative">
          <input
            class="w-100 position-absolute bottom-0 start-0 border border-secondary"
            style="outline-color: #990008"
            type="text"
            list="inputSearchBydDireccionIp"
            [(ngModel)]="filterDireccionIp"
            (input)="validateInputTable($event, 'Dirección IP')"
          />
          <datalist id="inputSearchBydDireccionIp">
            @for (direccionIp of getDbEnlaces; track $index) {
            <option value="{{ direccionIp.direccionIp }}"></option>
            }
          </datalist>
          <p class="pb-2">Dirección IP</p>
        </th>
        <th class="position-relative">
          <input
            class="w-100 position-absolute bottom-0 start-0 border border-secondary"
            style="outline-color: #990008"
            type="text"
            list="inputSearchByFecha"
            [(ngModel)]="filterFecha"
            (input)="validateInputTable($event, 'Fecha de Compra')"
          />
          <datalist id="inputSearchByFecha">
            @for (fechaCompra of getDbEnlaces; track $index) {
            <option value="{{ fechaCompra.fecha }}"></option>
            }
          </datalist>
          <p class="pb-2">Fecha de Compra</p>
        </th>
      </tr>
    </thead>
    <tbody (click)="selectRegisterStyles($event)" class="conte__resultSearches">
      <!-- FILTRADO DE BUSQUEDA  -->
      @if (filterCodigoActivo.length > 0 || filterSeccion.length > 0 ||
      filterCodigoNomina.length > 0 || filterResponsable.length > 0 ||
      filterTypeHost.length > 0 || filterNumeroSerie.length > 0 ||
      filterDescripcion.length > 0 || filterDireccionIp.length > 0 ||
      filterFecha.length > 0 && getDbFilters.length > 0) { @for (enlaces of
      getDbFilters; track $index) {
      <tr class="searchByCodigoActivo">
        <td>#</td>
        <td>{{ enlaces.codigoActivo }}</td>
        @for (secciones of getDbSecciones; track $index) { @if(secciones.id ===
        enlaces.idSeccion){
        <td>{{ secciones.nombreSeccion }}</td>
        } } @for (responsable of getDbResponsables; track $index) {
        @if(responsable.id === enlaces.idResponsable){
        <td>{{ responsable.codigoCentauro }}</td>
        <td>{{ responsable.nombreResponsable }}</td>
        } } @for (typoHost of getDbTypeHost; track $index) { @if(typoHost.id ===
        enlaces.idTipoHost){
        <td>{{ typoHost.nombreTipoHost }}</td>
        } }
        <td>{{ enlaces.numeroSerie }}</td>
        <td>{{ enlaces.descripcion }}</td>
        <td>{{ enlaces.direccionIp }}</td>
        <td>{{ enlaces.fecha }}</td>
      </tr>
      } }
      <!-- MUESTRA TODOS LOS REGISTROS DE LOS DISPOSITIVOS -->
      @if(getDbFilters.length == 0){ @for (enlaces of getDbEnlaces; track
      $index) {
      <tr tabindex="{{ $index + 1 }}">
        <td>{{ $index + 1 }}</td>
        <td>{{ enlaces.codigoActivo }}</td>
        @for (secciones of getDbSecciones; track $index) { @if(secciones.id ===
        enlaces.idSeccion){
        <td>{{ secciones.nombreSeccion }}</td>
        } } @for (responsable of getDbResponsables; track $index) {
        @if(responsable.id === enlaces.idResponsable){
        <td>{{ responsable.codigoCentauro }}</td>
        <td>{{ responsable.nombreResponsable }}</td>
        } } @for (typoHost of getDbTypeHost; track $index) { @if(typoHost.id ===
        enlaces.idTipoHost){
        <td>{{ typoHost.nombreTipoHost }}</td>
        } }
        <td>{{ enlaces.numeroSerie }}</td>
        <td>{{ enlaces.descripcion }}</td>
        <td>{{ enlaces.direccionIp }}</td>
        <td>{{ enlaces.fecha }}</td>
      </tr>
      } }
    </tbody>
  </table>
</section>
