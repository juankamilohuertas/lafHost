<app-bread-crumb />
<!-- SELECCIONA EL TIPO DE BUSQUEDAD -->
<section>
  <select class="form-select form-select-lg d-inline-flex focus-ring focus-ring-light py-1 px-2 text-decoration-none border rounded-2" [(ngModel)]="searchType!">
    <option value="Buscar por..." selected disabled>Buscar por...</option>
    <option value="codigo">Codigo activo o S/N</option>
    <option value="cascada">Buscar y Filtrar</option>
  </select>
</section>
@if(searchType == "codigo"){
<!-- busqueda por codigo activo y S/N -->
 <div class="d-flex align-items-center">
  <input class="py-1" type="text" (input)="btnSearchByCodes()" [(ngModel)]="searchByCode" placeholder="codigo" />
  <button class="btn bg-danger" (click)="btnSearchByCodes()">Buscar</button>
 </div>

}@else if(searchType == "cascada"){
<!-- Busqueda por filtrado -->
<section class="searchAndFilter">
  <select
    class="form-select form-select-lg d-inline-flex focus-ring focus-ring-light py-1 px-2 text-decoration-none border rounded-2"
    aria-label="Large select filter"
    [(ngModel)]="index"
    (click)="sectionFilter(index!, $event)"
  >
    <option selected disabled value="select an options">
      Selecciona Una Opci칩n
    </option>
    <option value="0">Planta Principal</option>
    <option value="1">PDV Bogot치</option>
    <option value="2">PDV Nacionales</option>
    <option value="3">PDV Internacionales</option>
  </select>
  @if(openFilter){
  <!-- Busquedad por texto -->
  <div>
    <input
      type="text"
      placeholder="Buscar..."
      [(ngModel)]="textInputFilter"
      (input)="getTextInputFilter(textInputFilter!)"
    />
  </div>
  <!-- Resultados de la busquedad -->
  <ul class="searchAndFilter__searchResults">
    @switch (openFilter) { @case ("sections") { @for (section of
    dataItemsFilter; track section.id) {
    <li
      class="searchAndFilter__searchResults-link"
      (click)="selectSections(section.id)"
    >
      {{ section.name }}
    </li>
    } }@case ("host") { @for (section of dataItemsFilter; track section.id) {
    <li
      class="searchAndFilter__searchResults-link"
      (click)="selectHost(section.id)"
    >
      {{ section.name }}
    </li>
    } }@case ("accessPoint") { @for (section of dataItemsFilter; track
    section.id) {
    <li
      class="searchAndFilter__searchResults-link"
      (click)="selectIp(section.id)"
    >
      {{ section.name }}
    </li>
    } }@case ("cameras") { @for (section of dataItemsFilter; track
    section.id) {
    <li
      class="searchAndFilter__searchResults-link"
      (click)="selectIp(section.id)"
    >
      {{ section.name }}
    </li>
    } }@case ("printers") { @for (section of dataItemsFilter; track
    section.id) {
    <li
      class="searchAndFilter__searchResults-link"
      (click)="selectIp(section.id)"
    >
      {{ section.name }}
    </li>
    } }@case ("switches") { @for (section of dataItemsFilter; track
    section.id) {
    <li
      class="searchAndFilter__searchResults-link"
      (click)="selectIp(section.id)"
    >
      {{ section.name }}
    </li>
    } } }
  </ul>
  }
</section>
}

<!-- VIEWS DATA PRINTERS -->
 <section>
  @for (item of getInfoSecciones; track $index) {
    <div>Secci칩n: {{item.nombre}}</div>
  }
  @for (item of getInfoEnlaces; track $index) {
    <div>Codigo Activo: {{item.codigo_activo}}</div>
    <div>Direcci칩n Ip: <a href="https://{{item.direccion_ip}}" target="_blank">{{item.direccion_ip}}</a></div>
  }
 </section>